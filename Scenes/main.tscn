[gd_scene load_steps=21 format=3 uid="uid://c78m8ijn10kwh"]

[ext_resource type="Script" path="res://Scripts/Manager.cs" id="1_rfd7i"]
[ext_resource type="PackedScene" uid="uid://cqsvcw13b83yp" path="res://Scenes/beat.tscn" id="2_1eep1"]
[ext_resource type="Texture2D" uid="uid://dlteab6232hoa" path="res://Assets/white.png" id="2_1ig4u"]
[ext_resource type="AudioStream" uid="uid://mfga1xf5g5ds" path="res://Assets/kick.wav" id="5_cl760"]
[ext_resource type="AudioStream" uid="uid://chgpxwxom3d12" path="res://Assets/clap.wav" id="6_v5052"]
[ext_resource type="AudioStream" uid="uid://c11jklhrlof4j" path="res://Assets/open-hihat.wav" id="7_s71c0"]
[ext_resource type="AudioStream" uid="uid://cf4uqnn3iwlm" path="res://Assets/snare.wav" id="8_4xf5a"]
[ext_resource type="Texture2D" uid="uid://ddx3ttnpgkple" path="res://Assets/ring.png" id="8_llrl4"]
[ext_resource type="StyleBox" uid="uid://hlnwgujjqktu" path="res://background.tres" id="9_nnqde"]
[ext_resource type="Script" path="res://Scripts/TemplateManager.cs" id="9_t3vou"]
[ext_resource type="Script" path="res://Scripts/MicrophoneCapture.cs" id="10_4yy8e"]
[ext_resource type="Script" path="res://Scripts/ReverbDelayManager.cs" id="10_jykfx"]
[ext_resource type="StyleBox" uid="uid://dp8gkmm81bir0" path="res://fill.tres" id="10_t1q83"]
[ext_resource type="Script" path="res://Scripts/MidiManager.cs" id="11_iqwjw"]
[ext_resource type="Script" path="res://Scripts/DragAndDropButton.cs" id="14_4mig3"]
[ext_resource type="Texture2D" uid="uid://b5gky5aods412" path="res://Assets/rawmic.png" id="15_5hbpj"]
[ext_resource type="Script" path="res://Scripts/RecordSampleButton.cs" id="16_ngh84"]

[sub_resource type="CanvasTexture" id="CanvasTexture_b5jd4"]

[sub_resource type="CanvasTexture" id="CanvasTexture_bao2x"]

[sub_resource type="CanvasTexture" id="CanvasTexture_6dn85"]

[node name="scene" type="Node2D"]
metadata/_edit_vertical_guides_ = [-1840.0]
metadata/_edit_horizontal_guides_ = [-1000.0]

[node name="Camera" type="Camera2D" parent="."]
scale = Vector2(4.12, 1)

[node name="AudioListener" type="AudioListener2D" parent="Camera"]
current = true

[node name="Managers" type="Node" parent="."]

[node name="Manager" type="Node" parent="Managers" node_paths=PackedStringArray("saveToWavButton", "SaveLayoutButton", "ClearLayoutButton", "RecordButton", "PlayPauseButton", "ResetPlayerButton", "BpmUpButton", "BpmDownButton", "recordSampleButton0", "recordSampleButton1", "recordSampleButton2", "recordSampleButton3", "recordSampleCheckButton0", "recordSampleCheckButton1", "recordSampleCheckButton2", "recordSampleCheckButton3", "progressBar", "pointer", "bpmLabel", "draganddropthing", "metronome", "swingslider", "InstructionLabel")]
script = ExtResource("1_rfd7i")
spritePrefab = ExtResource("2_1eep1")
mainAudioFiles = Array[AudioStream]([ExtResource("5_cl760"), ExtResource("6_v5052"), ExtResource("7_s71c0"), ExtResource("8_4xf5a")])
saveToWavButton = NodePath("../../UserInterface/MainButtons/SaveToWavButton")
bpm = 60
colors = PackedColorArray(1, 0.5, 0.5, 1, 1, 0.791667, 0.5, 1, 1, 1, 0.6, 1, 0.51, 0.812167, 1, 1)
SaveLayoutButton = NodePath("../../UserInterface/MainButtons/SaveLayoutButton")
ClearLayoutButton = NodePath("../../UserInterface/MainButtons/ClearLayoutButton")
RecordButton = NodePath("../../UserInterface/RecordButton")
PlayPauseButton = NodePath("../../UserInterface/MainButtons/PlayPauseButton")
ResetPlayerButton = NodePath("../../UserInterface/MainButtons/ResetPlayerButton")
BpmUpButton = NodePath("../../UserInterface/MainButtons/BpmUpButton")
BpmDownButton = NodePath("../../UserInterface/MainButtons/BpmDownButton")
recordSampleButton0 = NodePath("../../UserInterface/SampleButtons/SampleRecordingButton0")
recordSampleButton1 = NodePath("../../UserInterface/SampleButtons/SampleRecordingButton1")
recordSampleButton2 = NodePath("../../UserInterface/SampleButtons/SampleRecordingButton2")
recordSampleButton3 = NodePath("../../UserInterface/SampleButtons/SampleRecordingButton3")
recordSampleCheckButton0 = NodePath("../../UserInterface/SampleButtons/UseSampleCheckButton0")
recordSampleCheckButton1 = NodePath("../../UserInterface/SampleButtons/UseSampleCheckButton1")
recordSampleCheckButton2 = NodePath("../../UserInterface/SampleButtons/UseSampleCheckButton2")
recordSampleCheckButton3 = NodePath("../../UserInterface/SampleButtons/UseSampleCheckButton3")
progressBar = NodePath("../../UserInterface/ProgressBar")
texture = ExtResource("2_1ig4u")
outline = ExtResource("8_llrl4")
pointer = NodePath("../../UserInterface/Pointer")
bpmLabel = NodePath("../../UserInterface/BpmLabel")
draganddropthing = NodePath("../../UserInterface/draganddropthing")
metronome = NodePath("../../UserInterface/metronome/metronome_point")
swing = 0.0
swingslider = NodePath("../../UserInterface/SwingLabel/SwingSlider")
InstructionLabel = NodePath("../../UserInterface/InstructionPanel/InstructionLabel")

[node name="MicrophoneCapture" type="Node" parent="Managers"]
script = ExtResource("10_4yy8e")

[node name="TemplateManager" type="Node" parent="Managers" node_paths=PackedStringArray("templateButton", "leftTemplateButton", "rightTemplateButton", "showTemplateButton", "setTemplateButton")]
script = ExtResource("9_t3vou")
templateButton = NodePath("../../UserInterface/MainButtons/TemplateButton")
leftTemplateButton = NodePath("../../UserInterface/MainButtons/TemplateLeftButton")
rightTemplateButton = NodePath("../../UserInterface/MainButtons/TemplateRightButton")
showTemplateButton = NodePath("../../UserInterface/MainButtons/ShowTemplateButton")
setTemplateButton = NodePath("../../UserInterface/MainButtons/SetTemplateButton")

[node name="ReverbDelayManager" type="Node" parent="Managers" node_paths=PackedStringArray("reverbButton", "delayButton", "reverbSprite", "delaySprite")]
script = ExtResource("10_jykfx")
reverbButton = NodePath("../../UserInterface/MainButtons/ReverbButton")
delayButton = NodePath("../../UserInterface/MainButtons/DelayButton")
reverbSprite = NodePath("../../UserInterface/MainButtons/ReverbButton/ReverbSprite")
delaySprite = NodePath("../../UserInterface/MainButtons/DelayButton/DelaySprite")

[node name="MidiManager" type="Node" parent="Managers"]
script = ExtResource("11_iqwjw")

[node name="UserInterface" type="Node" parent="."]

[node name="MainButtons" type="Node" parent="UserInterface"]

[node name="PlayPauseButton" type="Button" parent="UserInterface/MainButtons"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -1276.0
offset_top = -716.0
offset_right = -1148.0
offset_bottom = -684.0
grow_horizontal = 2
grow_vertical = 2
focus_mode = 0
text = "Play/Pause"

[node name="ResetPlayerButton" type="Button" parent="UserInterface/MainButtons"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -1276.0
offset_top = -680.0
offset_right = -1148.0
offset_bottom = -648.0
grow_horizontal = 2
grow_vertical = 2
focus_mode = 0
text = "Reset Player"

[node name="ClearLayoutButton" type="Button" parent="UserInterface/MainButtons"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -1276.0
offset_top = -640.0
offset_right = -1148.0
offset_bottom = -608.0
grow_horizontal = 2
grow_vertical = 2
focus_mode = 0
text = "Clear Layout"

[node name="SaveLayoutButton" type="Button" parent="UserInterface/MainButtons"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -1276.0
offset_top = -604.0
offset_right = -1148.0
offset_bottom = -572.0
grow_horizontal = 2
grow_vertical = 2
focus_mode = 0
text = "Save Layout"

[node name="SaveToWavButton" type="Button" parent="UserInterface/MainButtons"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -1276.0
offset_top = -568.0
offset_right = -1148.0
offset_bottom = -536.0
grow_horizontal = 2
grow_vertical = 2
focus_mode = 0
text = "Save As Wav"

[node name="TemplateButton" type="Button" parent="UserInterface/MainButtons"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -1276.0
offset_top = -532.0
offset_right = -1148.0
offset_bottom = -500.0
grow_horizontal = 2
grow_vertical = 2
focus_mode = 0
text = "Template"

[node name="TemplateLeftButton" type="Button" parent="UserInterface/MainButtons"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -1276.0
offset_top = -497.0
offset_right = -1213.0
offset_bottom = -465.0
grow_horizontal = 2
grow_vertical = 2
focus_mode = 0
text = "<"

[node name="TemplateRightButton" type="Button" parent="UserInterface/MainButtons"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -1211.0
offset_top = -497.0
offset_right = -1148.0
offset_bottom = -465.0
grow_horizontal = 2
grow_vertical = 2
focus_mode = 0
text = ">"

[node name="ShowTemplateButton" type="Button" parent="UserInterface/MainButtons"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -1276.0
offset_top = -463.0
offset_right = -1213.0
offset_bottom = -431.0
grow_horizontal = 2
grow_vertical = 2
focus_mode = 0
text = "Show"

[node name="SetTemplateButton" type="Button" parent="UserInterface/MainButtons"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -1211.0
offset_top = -463.0
offset_right = -1148.0
offset_bottom = -431.0
grow_horizontal = 2
grow_vertical = 2
focus_mode = 0
text = "Set
"

[node name="ReverbButton" type="Button" parent="UserInterface/MainButtons"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -1276.0
offset_top = -415.0
offset_right = -1148.0
offset_bottom = -383.0
grow_horizontal = 2
grow_vertical = 2
focus_mode = 0
text = "Reverb"

[node name="ReverbSprite" type="Sprite2D" parent="UserInterface/MainButtons/ReverbButton"]
position = Vector2(143, 16)
scale = Vector2(0.5, 0.5)
texture = ExtResource("2_1ig4u")

[node name="DelayButton" type="Button" parent="UserInterface/MainButtons"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -1276.0
offset_top = -379.0
offset_right = -1148.0
offset_bottom = -347.0
grow_horizontal = 2
grow_vertical = 2
focus_mode = 0
text = "Delay"

[node name="DelaySprite" type="Sprite2D" parent="UserInterface/MainButtons/DelayButton"]
position = Vector2(143, 16)
scale = Vector2(0.5, 0.5)
texture = ExtResource("2_1ig4u")

[node name="BpmUpButton" type="Button" parent="UserInterface/MainButtons"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -1276.0
offset_top = -331.0
offset_right = -1148.0
offset_bottom = -299.0
grow_horizontal = 2
grow_vertical = 2
focus_mode = 0
text = "Bpm Up"

[node name="BpmDownButton" type="Button" parent="UserInterface/MainButtons"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -1276.0
offset_top = -295.0
offset_right = -1148.0
offset_bottom = -263.0
grow_horizontal = 2
grow_vertical = 2
focus_mode = 0
text = "Bpm Down"

[node name="SampleButtons" type="Node" parent="UserInterface"]

[node name="DragAndDropButton0" type="Sprite2D" parent="UserInterface/SampleButtons"]
position = Vector2(-604, 326)
scale = Vector2(2, 2)
texture = ExtResource("2_1ig4u")
script = ExtResource("14_4mig3")

[node name="DragAndDropButton1" type="Sprite2D" parent="UserInterface/SampleButtons"]
position = Vector2(-529, 326)
scale = Vector2(2, 2)
texture = ExtResource("2_1ig4u")
script = ExtResource("14_4mig3")
ring = 1

[node name="DragAndDropButton2" type="Sprite2D" parent="UserInterface/SampleButtons"]
position = Vector2(-454, 326)
scale = Vector2(2, 2)
texture = ExtResource("2_1ig4u")
script = ExtResource("14_4mig3")
ring = 2

[node name="DragAndDropButton3" type="Sprite2D" parent="UserInterface/SampleButtons"]
position = Vector2(-379, 326)
scale = Vector2(2, 2)
texture = ExtResource("2_1ig4u")
script = ExtResource("14_4mig3")
ring = 3

[node name="SampleRecordingButton0" type="Sprite2D" parent="UserInterface/SampleButtons"]
position = Vector2(-604, 270)
scale = Vector2(0.75, 0.78)
texture = ExtResource("15_5hbpj")
script = ExtResource("16_ngh84")

[node name="SampleRecordingButton1" type="Sprite2D" parent="UserInterface/SampleButtons"]
position = Vector2(-530, 270)
scale = Vector2(0.75, 0.78)
texture = ExtResource("15_5hbpj")
script = ExtResource("16_ngh84")
ring = 1

[node name="SampleRecordingButton2" type="Sprite2D" parent="UserInterface/SampleButtons"]
position = Vector2(-455, 270)
scale = Vector2(0.75, 0.78)
texture = ExtResource("15_5hbpj")
script = ExtResource("16_ngh84")
ring = 2

[node name="SampleRecordingButton3" type="Sprite2D" parent="UserInterface/SampleButtons"]
position = Vector2(-379, 270)
scale = Vector2(0.75, 0.78)
texture = ExtResource("15_5hbpj")
script = ExtResource("16_ngh84")
ring = 3

[node name="UseSampleCheckButton0" type="CheckButton" parent="UserInterface/SampleButtons"]
offset_left = -629.0
offset_top = 224.0
offset_right = -585.0
offset_bottom = 248.0
focus_mode = 0

[node name="UseSampleCheckButton1" type="CheckButton" parent="UserInterface/SampleButtons"]
offset_left = -554.0
offset_top = 224.0
offset_right = -510.0
offset_bottom = 248.0
focus_mode = 0

[node name="UseSampleCheckButton2" type="CheckButton" parent="UserInterface/SampleButtons"]
offset_left = -479.0
offset_top = 224.0
offset_right = -435.0
offset_bottom = 248.0
focus_mode = 0

[node name="UseSampleCheckButton3" type="CheckButton" parent="UserInterface/SampleButtons"]
offset_left = -404.0
offset_top = 224.0
offset_right = -360.0
offset_bottom = 248.0
focus_mode = 0

[node name="SwingLabel" type="Label" parent="UserInterface"]
offset_left = -629.0
offset_top = 149.0
offset_right = -501.0
offset_bottom = 172.0
text = "Swing"
horizontal_alignment = 1
vertical_alignment = 1

[node name="SwingSlider" type="HSlider" parent="UserInterface/SwingLabel"]
layout_mode = 0
offset_top = -27.0
offset_right = 63.0
offset_bottom = -11.0
scale = Vector2(2, 2)
max_value = 1.0
step = 0.05

[node name="ProgressBar" type="ProgressBar" parent="UserInterface"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -62.0
offset_top = -712.0
offset_right = -8.0
offset_bottom = -8.0
grow_horizontal = 2
grow_vertical = 2
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 2
theme_override_styles/background = ExtResource("9_nnqde")
theme_override_styles/fill = ExtResource("10_t1q83")
rounded = true
fill_mode = 2

[node name="RecordButton" type="Button" parent="UserInterface"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -183.0
offset_top = -767.0
offset_right = -55.0
offset_bottom = -735.0
grow_horizontal = 2
grow_vertical = 2
focus_mode = 0
text = "Record"

[node name="BpmLabel" type="Label" parent="UserInterface"]
offset_left = -487.0
offset_top = 29.0
offset_right = -442.0
offset_bottom = 96.0
text = "bpm"
horizontal_alignment = 1
vertical_alignment = 1

[node name="draganddropthing" type="Sprite2D" parent="UserInterface"]
modulate = Color(1, 1, 1, 0)
texture = ExtResource("2_1ig4u")

[node name="Cross" type="Node" parent="UserInterface"]

[node name="Vertical" type="Sprite2D" parent="UserInterface/Cross"]
modulate = Color(0.78, 0.78, 0.78, 1)
z_index = -1
scale = Vector2(4, 484)
texture = SubResource("CanvasTexture_b5jd4")

[node name="Horizontal" type="Sprite2D" parent="UserInterface/Cross"]
modulate = Color(0.78, 0.78, 0.78, 1)
z_index = -1
rotation = 1.5708
scale = Vector2(4, 484)
texture = SubResource("CanvasTexture_b5jd4")

[node name="Vertical2" type="Sprite2D" parent="UserInterface/Cross"]
modulate = Color(0.78, 0.78, 0.78, 1)
z_index = -1
rotation = 0.785398
scale = Vector2(4, 484)
texture = SubResource("CanvasTexture_b5jd4")

[node name="Horizontal2" type="Sprite2D" parent="UserInterface/Cross"]
modulate = Color(0.78, 0.78, 0.78, 1)
z_index = -1
rotation = -0.785398
scale = Vector2(4, 484)
texture = SubResource("CanvasTexture_b5jd4")

[node name="Pointer" type="Sprite2D" parent="UserInterface"]
modulate = Color(0.78, 0.78, 0.78, 1)
z_index = -1
scale = Vector2(4, 80)
texture = SubResource("CanvasTexture_bao2x")
centered = false
offset = Vector2(-0.5, -1)

[node name="metronome" type="Sprite2D" parent="UserInterface"]
z_index = -1
position = Vector2(-501, 64)
scale = Vector2(4, 62)
texture = SubResource("CanvasTexture_6dn85")

[node name="metronome_point" type="Sprite2D" parent="UserInterface/metronome"]
modulate = Color(0, 0, 0, 1)
position = Vector2(0, -0.4)
scale = Vector2(2, 0.15)
texture = SubResource("CanvasTexture_6dn85")

[node name="InstructionPanel" type="Panel" parent="UserInterface"]
offset_left = 257.0
offset_top = -343.0
offset_right = 558.0
offset_bottom = -264.0

[node name="Title" type="Label" parent="UserInterface/InstructionPanel"]
layout_mode = 0
offset_right = 301.0
offset_bottom = 40.0
text = "Current Goal:"
horizontal_alignment = 1
vertical_alignment = 1

[node name="InstructionLabel" type="Label" parent="UserInterface/InstructionPanel"]
layout_mode = 0
offset_top = 23.0
offset_right = 301.0
offset_bottom = 79.0
text = "..."
horizontal_alignment = 1
vertical_alignment = 1
